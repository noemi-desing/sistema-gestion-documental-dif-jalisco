<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DIF Jalisco — Gestión Documental</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- HEADER -->
<header class="header">
  <img src="./catalogos/logo_dif.png" alt="Logo DIF Jalisco" class="logo-header" />
  <div class="header-text">
    <h1>Gestión Documental y Correspondencia</h1>
    <p>Dirección de Planeación Institucional — DIF Jalisco</p>
  </div>
</header>

  <!-- HOME: 5 BOTONES -->
  <main class="main">
    <section id="homeView" class="card home">
      <h2>Selecciona un área</h2>
      <div class="home-buttons">
        <button class="home-btn primary" data-view="direccionView">
          Dirección de Planeación Institucional
        </button>

        <button class="home-btn" data-view="deptPlaneacionView">
          Departamento de Planeación y Proyectos
        </button>

        <button class="home-btn" data-view="deptSeguimientoView">
          Departamento de Seguimiento y Evaluación
        </button>

        <button class="home-btn" data-view="deptDesarrolloView">
          Departamento de Desarrollo Institucional
        </button>

        <button class="home-btn" data-view="deptCapacitacionView">
          Departamento de Capacitación e Investigación
        </button>
      </div>

      <div class="home-footer">
        <small>⚠️ La información se guarda en este navegador (base local). Para modo institucional multiusuario, se migra a SharePoint.</small>
      </div>
    </section>

    <!-- =========================
         VISTA DIRECCIÓN
    ========================== -->
    <section id="direccionView" class="card hidden">
      <div class="topbar">
        <div class="topbar-left">
          <button class="back-btn" data-back>⬅ Volver</button>
          <h2>Dirección de Planeación Institucional</h2>
        </div>
        <div class="topbar-right">
          <input id="dirSearch" class="search" type="text" placeholder="Buscar folio / asunto / área..." />
        </div>
      </div>

      <!-- FORM DIRECCIÓN -->
      <div class="panel">
        <h3>Subir y registrar documento</h3>

        <div class="grid-3">
          <div>
            <label class="label">Entrada / Salida</label>
            <select id="dirInOut">
              <option value="ENTRADA" selected>ENTRADA</option>
              <option value="SALIDA">SALIDA</option>
            </select>
          </div>

          <div>
            <label class="label">Carácter</label>
            <select id="dirCaracter">
              <option value="CONOCIMIENTO" selected>CONOCIMIENTO</option>
              <option value="RESPUESTA">RESPUESTA</option>
              <option value="URGENTE">URGENTE</option>
            </select>
          </div>

          <div>
            <label class="label">Soporte</label>
            <select id="dirSoporte">
              <option value="DIGITAL" selected>DIGITAL</option>
              <option value="FISICO">FÍSICO</option>
              <option value="MIXTO">MIXTO</option>
            </select>
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label class="label">Tipo documental</label>
            <select id="dirTipoDoc">
              <option value="MEMO" selected>Memorándum</option>
              <option value="OFICIO">Oficio</option>
              <option value="CIRCULAR">Circular</option>
              <option value="OTRO">Otro</option>
            </select>
          </div>

          <div>
            <label class="label">Fecha del documento</label>
            <input id="dirFechaDoc" type="date" />
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label class="label">Área productora</label>
            <input id="dirAreaProd" type="text" placeholder="Ej. Dirección General / Área X" />
          </div>

          <div>
            <label class="label">Área destinataria</label>
            <input id="dirAreaDest" type="text" placeholder="Ej. Dirección / Departamento Y" />
          </div>
        </div>

        <div>
          <label class="label">Asunto</label>
          <input id="dirAsunto" type="text" placeholder="Asunto del documento..." />
        </div>

        <div class="grid-2">
          <div>
            <label class="label">Función sustantiva</label>
            <input id="dirFuncion" type="text" placeholder="Función sustantiva..." />
          </div>

          <div>
            <label class="label">Ubicación digital / física</label>
            <input id="dirUbicacion" type="text" placeholder="Ej. Plataforma / Carpeta física..." />
          </div>
        </div>

        <!-- CADIDO (AUTO, NO EDITABLE) -->
        <div class="panel soft">
          <div class="grid-2">
            <div>
              <label class="label">Documento (CADIDO)</label>
              <select id="dirCadidoDoc"></select>
              <small class="hint">El sistema aplica automáticamente Código CADIDO, Sección/Serie/Subserie, vigencias, destino y clasificación.</small>
            </div>

            <div>
              <label class="label">Resumen CADIDO (solo lectura)</label>
              <div id="cadidoResumen" class="readonly-box">Selecciona un documento CADIDO…</div>
            </div>
          </div>
        </div>

        <!-- DERIVACIÓN -->
        <div class="panel soft">
          <label class="label">Derivar a departamentos (puedes seleccionar varios)</label>
          <div class="checks">
            <label class="check"><input type="checkbox" value="Departamento de Planeación y Proyectos" id="toPlaneacion"> Departamento de Planeación y Proyectos</label>
            <label class="check"><input type="checkbox" value="Departamento de Seguimiento y Evaluación" id="toSeguimiento"> Departamento de Seguimiento y Evaluación</label>
            <label class="check"><input type="checkbox" value="Departamento de Desarrollo Institucional" id="toDesarrollo"> Departamento de Desarrollo Institucional</label>
            <label class="check"><input type="checkbox" value="Departamento de Capacitación e Investigación" id="toCapacitacion"> Departamento de Capacitación e Investigación</label>
          </div>

          <div class="grid-2">
            <div>
              <label class="label">Fecha límite</label>
              <input id="dirFechaLimite" type="date" />
            </div>
            <div>
              <label class="label">Semáforo</label>
              <select id="dirSemaforo">
                <option value="VERDE" selected>VERDE</option>
                <option value="AMARILLO">AMARILLO</option>
                <option value="ROJO">ROJO</option>
              </select>
            </div>
          </div>
        </div>

        <!-- ARCHIVO -->
        <div class="grid-2">
          <div>
            <label class="label">Archivo (PDF / Word / Escaneo)</label>
            <input id="dirFile" type="file" />
          </div>

          <div>
            <label class="label">Observaciones</label>
            <input id="dirObs" type="text" placeholder="Observaciones..." />
          </div>
        </div>

        <div class="actions">
          <button id="dirSave" class="btn primary">Guardar y derivar</button>
          <button id="dirReset" class="btn gray">Limpiar</button>
        </div>

        <div id="dirStatus" class="status"></div>
      </div>

      <!-- LISTADO DIRECCIÓN -->
      <div class="panel">
        <div class="panel-head">
          <h3>Bandeja Dirección</h3>
          <div class="pill-row">
            <span class="pill" id="kpiTotalDir">Total: 0</span>
            <span class="pill" id="kpiPendientesDir">Pendientes: 0</span>
            <span class="pill" id="kpiUrgentesDir">Urgentes: 0</span>
          </div>
        </div>
        <div id="dirList" class="list"></div>
      </div>
    </section>

    <!-- =========================
         VISTAS DEPARTAMENTOS
    ========================== -->
    <section id="deptPlaneacionView" class="card hidden dept" data-dept="Departamento de Planeación y Proyectos">
      <div class="topbar">
        <div class="topbar-left">
          <button class="back-btn" data-back>⬅ Volver</button>
          <h2>Departamento de Planeación y Proyectos</h2>
        </div>
        <div class="topbar-right">
          <input class="search deptSearch" type="text" placeholder="Buscar folio / asunto..." />
        </div>
      </div>
      <div class="panel">
        <h3>Bandeja del Departamento</h3>
        <div class="pill-row">
          <span class="pill deptTotal">Total: 0</span>
          <span class="pill deptResp">Requiere respuesta: 0</span>
          <span class="pill deptUrg">Urgente: 0</span>
        </div>
        <div class="list deptList"></div>
      </div>
    </section>

    <section id="deptSeguimientoView" class="card hidden dept" data-dept="Departamento de Seguimiento y Evaluación">
      <div class="topbar">
        <div class="topbar-left">
          <button class="back-btn" data-back>⬅ Volver</button>
          <h2>Departamento de Seguimiento y Evaluación</h2>
        </div>
        <div class="topbar-right">
          <input class="search deptSearch" type="text" placeholder="Buscar folio / asunto..." />
        </div>
      </div>
      <div class="panel">
        <h3>Bandeja del Departamento</h3>
        <div class="pill-row">
          <span class="pill deptTotal">Total: 0</span>
          <span class="pill deptResp">Requiere respuesta: 0</span>
          <span class="pill deptUrg">Urgente: 0</span>
        </div>
        <div class="list deptList"></div>
      </div>
    </section>

    <section id="deptDesarrolloView" class="card hidden dept" data-dept="Departamento de Desarrollo Institucional">
      <div class="topbar">
        <div class="topbar-left">
          <button class="back-btn" data-back>⬅ Volver</button>
          <h2>Departamento de Desarrollo Institucional</h2>
        </div>
        <div class="topbar-right">
          <input class="search deptSearch" type="text" placeholder="Buscar folio / asunto..." />
        </div>
      </div>
      <div class="panel">
        <h3>Bandeja del Departamento</h3>
        <div class="pill-row">
          <span class="pill deptTotal">Total: 0</span>
          <span class="pill deptResp">Requiere respuesta: 0</span>
          <span class="pill deptUrg">Urgente: 0</span>
        </div>
        <div class="list deptList"></div>
      </div>
    </section>

    <section id="deptCapacitacionView" class="card hidden dept" data-dept="Departamento de Capacitación e Investigación">
      <div class="topbar">
        <div class="topbar-left">
          <button class="back-btn" data-back>⬅ Volver</button>
          <h2>Departamento de Capacitación e Investigación</h2>
        </div>
        <div class="topbar-right">
          <input class="search deptSearch" type="text" placeholder="Buscar folio / asunto..." />
        </div>
      </div>
      <div class="panel">
        <h3>Bandeja del Departamento</h3>
        <div class="pill-row">
          <span class="pill deptTotal">Total: 0</span>
          <span class="pill deptResp">Requiere respuesta: 0</span>
          <span class="pill deptUrg">Urgente: 0</span>
        </div>
        <div class="list deptList"></div>
      </div>
    </section>

    <!-- =========================
         MODAL RESPUESTA
    ========================== -->
    <div id="modal" class="modal hidden" aria-hidden="true">
      <div class="modal-card">
        <div class="modal-head">
          <h3>Generar respuesta</h3>
          <button id="modalClose" class="btn gray small">Cerrar</button>
        </div>

        <div class="modal-body">
          <div class="readonly-box" id="modalContext">—</div>

          <div class="grid-2">
            <div>
              <label class="label">Tipo de respuesta</label>
              <select id="respTipo">
                <option value="OFICIO" selected>Oficio</option>
                <option value="MEMO">Memorándum</option>
              </select>
            </div>
            <div>
              <label class="label">Número de documento (respuesta)</label>
              <input id="respNumero" type="text" placeholder="Se autogenera si lo dejas vacío" />
            </div>
          </div>

          <div>
            <label class="label">Texto / cuerpo (editable)</label>
            <textarea id="respTexto" class="textarea" rows="8" placeholder="Redacta aquí..."></textarea>
          </div>

          <div class="grid-2">
            <div>
              <label class="label">Adjuntar respuesta firmada (PDF/Word) (opcional)</label>
              <input id="respFile" type="file" />
            </div>
            <div>
              <label class="label">Observaciones</label>
              <input id="respObs" type="text" placeholder="Observaciones..." />
            </div>
          </div>

          <div class="actions">
            <button id="respDescargarPlantilla" class="btn primary">Descargar plantilla (editable)</button>
            <button id="respGuardar" class="btn gray">Guardar respuesta en el sistema</button>
          </div>

          <div id="respStatus" class="status"></div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p>© 2026 DIF Jalisco — Gestión Documental</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
