<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DIF Jalisco ‚Äî Gesti√≥n Documental</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- ENCABEZADO -->
  <header class="header">
    <div class="header-text">
      <h1>Gesti√≥n Documental y Correspondencia</h1>
      <p>Direcci√≥n de Planeaci√≥n Institucional ‚Äî DIF Jalisco</p>
      <p class="subtitle">Sistema funcional (MVP) ‚Äî captura, archivo, evidencias y descarga</p>
    </div>
    <img src="./catalogos/logo_dif.png" alt="Logo DIF Jalisco" class="logo-header" />
  </header>

  <main class="main-container">
    <!-- PANEL CONTROL -->
    <section class="section card">
      <h2>‚öôÔ∏è Panel de control</h2>

      <div class="grid-2">
        <div class="control-box">
          <label class="label">Rol de usuario (simulado)</label>
          <select id="roleSelect">
            <option value="auxiliar" selected>Auxiliar (edita)</option>
            <option value="jefatura">Jefatura (edita + respuesta)</option>
            <option value="lectura">Solo lectura</option>
            <option value="direccion">Direcci√≥n General (consulta total)</option>
          </select>
          <p class="help">Esto controla permisos de edici√≥n en este MVP.</p>
        </div>

        <div class="control-box">
          <label class="label">B√∫squeda</label>
          <input id="searchInput" type="text" placeholder="Buscar por folio, asunto, √°rea, tipo..." />
          <p class="help">Filtra en tiempo real Tr√°mite y Concentraci√≥n.</p>
        </div>
      </div>

      <div class="actions-row">
        <button id="exportConcentracionBtn">üìä Exportar Concentraci√≥n (CSV)</button>
        <button id="clearAllBtn" class="btn-gray">üßπ Borrar TODO (solo pruebas)</button>
      </div>

      <div id="alertsBox" class="alerts"></div>
    </section>

    <!-- CAPTURA -->
    <section class="section card">
      <h2>üìù Captura de registro</h2>
      <p class="subtitle">Registro diario de documentos de entrada y salida (memor√°ndums, oficios y circulares)</p>

      <div class="form">
        <div class="grid-2">
          <div>
            <label class="label">Tipo de registro</label>
            <select id="ioType">
              <option value="entrada">Entrada</option>
              <option value="salida">Salida</option>
            </select>
          </div>

          <div>
            <label class="label">Tipo de documento</label>
            <select id="docType">
              <option value="memorandum" selected>Memor√°ndum</option>
              <option value="oficio">Oficio</option>
              <option value="circular">Circular</option>
            </select>
          </div>

          <div>
            <label class="label">√Årea remitente</label>
            <input id="areaFrom" type="text" placeholder="Ej. Direcci√≥n General / Departamento X" />
          </div>

          <div>
            <label class="label">√Årea destinataria</label>
            <input id="areaTo" type="text" placeholder="Ej. Planeaci√≥n Institucional / Departamento Y" />
          </div>
        </div>

        <div>
          <label class="label">Asunto</label>
          <input id="subject" type="text" placeholder="Describe brevemente el asunto..." />
        </div>

        <div class="grid-3">
          <div>
            <label class="label">Sem√°foro</label>
            <select id="traffic">
              <option value="verde" selected>Verde</option>
              <option value="amarillo">Amarillo</option>
              <option value="rojo">Rojo</option>
            </select>
          </div>

          <div>
            <label class="label">Fecha l√≠mite</label>
            <input id="dueDate" type="date" />
          </div>

          <div>
            <label class="label">Archivo adjunto</label>
            <input id="fileInput" type="file" />
          </div>
        </div>

        <div class="actions-row">
          <button id="saveBtn">Guardar registro</button>
          <button id="resetFormBtn" class="btn-gray">Limpiar</button>
        </div>

        <div id="saveStatus" class="status"></div>
      </div>
    </section>

    <!-- ARCHIVO DE TR√ÅMITE -->
    <section class="section card wide">
      <div class="section-head">
        <h2>üìå Archivo de Tr√°mite</h2>
        <p class="subtitle">Documentos activos (uso operativo) ‚Äî cierre y descarga trimestral</p>
      </div>

      <div id="tramiteList" class="list"></div>
    </section>

    <!-- ARCHIVO DE CONCENTRACI√ìN -->
    <section class="section card wide">
      <div class="section-head">
        <h2>üóÑÔ∏è Archivo de Concentraci√≥n</h2>
        <p class="subtitle">Documentos cerrados (sexenio) ‚Äî consulta en solo lectura</p>
      </div>

      <div id="concentracionList" class="list"></div>
    </section>
  </main>

  <footer>
    <p>¬© 2026 DIF Jalisco ‚Äî Gesti√≥n Documental y Correspondencia</p>
    <p class="subtitle">MVP funcional: captura real + archivos (IndexedDB) + exportaci√≥n CSV</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>


